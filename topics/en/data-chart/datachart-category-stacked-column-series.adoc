////
|metadata|
{
    "name": "datachart-category-stacked-column-series",
    "controlName": ["{DataChartName}"],
    "tags": ["Charting","Data Presentation","Getting Started","How Do I"],
    "guid": "fec59340-0c45-49f2-bc7b-231b760c2ead",
    "buildFlags": ["WINFORMS","wpf","win-universal","ANDROID"],
    "createdOn": "2014-06-05T19:39:00.4132804Z"
}
|metadata|
////

= Stacked Column Series

This topic explains, with code examples, how to use the link:{DataChartLink}.stackedcolumnseries.html[StackedColumnSeries] in the link:{DataChartLink}.{DataChartName}.html[{DataChartName}]™ control.

== Overview

The topic is organized as follows:

* <<Introduction,Introduction>>
* <<SeriesPreview,Series Preview>>
* <<SeriesRecommendations,Series Recommendations>>
* <<DataRequirements,Data Requirements>>
* <<DataRenderingRules,Data Rendering Rules>>
* <<Examples,Examples>>
* <<RelatedContent,Related Content>>

[[Introduction]]
== Introduction

Stacked Column Series belongs to a group of link:datachart-category-series-overview.html[Category Series] and it is rendered using a collection of rectangles (StackedFragmentSeries) that are stacked on top of each other. Each stacked fragment in the collection represents one visual element in each stack. Each stack can contain both positive and negative values. All positive values are grouped on the positive side of the y-axis, and all negative values are grouped on the negative side of the y-axis. Stacked Column Series uses the same concepts of data plotting as Stacked Bar Series but data points are stacked along vertical line (y-axis) rather than along horizontal line (x-axis). In other words, the link:{DataChartLink}.stackedcolumnseries.html[StackedColumnSeries] is rendered like the link:{DataChartLink}.stackedbarseries.html[StackedBarSeries] but with 90 degrees counter-clockwise rotation. For more conceptual information, comprehension with other types of series, and supported types of axes, refer to the link:datachart-category-series-overview.html[Category Series] and link:datachart-axes.html[Chart Axes] topics.

[[SeriesPreview]]
== Series Preview

Figures 1 and 2 demonstrate how the link:{DataChartLink}.stackedcolumnseries.html[StackedColumnSeries] and link:{DataChartLink}.stackedbarseries.html[StackedBarSeries] look when plotted in the {DataChartName} control.

image::images/Stacked_Column_Series__01.png[]

Figure 1: Sample implementation of the link:{DataChartLink}.stackedcolumnseries.html[StackedColumnSeries] type.

image::images/Stacked_Column_Series__02.png[]

Figure 2: Sample implementation of the link:{DataChartLink}.stackedbarseries.html[StackedBarSeries] type.

[[SeriesRecommendations]]
== Series Recommendations

Although the {DataChartName} supports plotting unlimited number of various types of series, it is recommended to use the Stacked Column Series with similar types of series. Refer to the link:datachart-multiple-series.html[Multiple Series] topic for information on what types of series are recommended with the Stacked Column Series and how to plot multiple types of series.

[[DataRequirements]]
== Data Requirements

While the {DataChartName} control allows you to easily bind it to your own data model, be sure to supply the appropriate amount and type of data that the series requires. If the data does not meet the minimum requirements based on the type of series that you are using, an error is generated by the control. Refer to the link:datachart-series-requirements.html[Series Requirements] and link:datachart-category-series-overview.html[Category Series] topics for more information on data series requirements.

The following is a list of data requirements for the link:{DataChartLink}.stackedcolumnseries.html[StackedColumnSeries] type:

* The data model must contain at least one numeric data column. It is recommended that the data model contain two or more numeric data columns so that each column of the link:{DataChartLink}.stackedcolumnseries.html[StackedColumnSeries] has two or more stacked fragments.
* The data model may contain an optional string or date time field for labels.

[[DataRenderingRules]]
== Data Rendering Rules

The Stacked Column Series renders data using the following rules:

* A StackedFragmentSeries needs be added to the Series collection property of the link:{DataChartLink}.stackedcolumnseries.html[StackedColumnSeries] for every numeric column in the data model that you want rendered.
* Each row in the data model represents a single stacked column. Sections are created based on the columns in the data model that are mapped to the ValueMemberPath property of StackedFragmentSeries objects.
* When the second value in the row is rendered, its value will be added to the points of the previous values in that row. Therefore, each point going upwards on the chart is a cumulative sum of the values at that point.
* The string or date time column that is mapped to the Label property of data mapping on the x-axis is used as the category labels. If the data mapping for Label is not specified, default labels are used.
* Category labels are drawn on the x-axis. Data values are drawn on the y-axis.
* When rendering, multiple series of the link:{DataChartLink}.stackedcolumnseries.html[StackedColumnSeries] type is rendered in clusters where each cluster represents a data point. The first Stacked Column Series in the Series collection of the {DataChartName} control will render as a column on the left of the cluster. Each successive series will get rendered to the right of the previous series. For more information on this feature, refer to the link:datachart-multiple-series.html[Multiple Series] topic.

[[Examples]]
== Examples

== Data Binding

The code snippet below shows how to bind the link:{DataChartLink}.stackedcolumnseries.html[StackedColumnSeries] object to sample of category data (which is available for download from link:resources-sample-energy-data.html[Sample Energy Data] resource). Refer to data requirements section of this topic for information about data requirements for the StackedColumnSeries.

ifdef::sl,wpf,win-universal[]

*In XAML:*

----
xmlns:local="clr-namespace:[DATA_MODEL_NAMESPACE]"
----

endif::sl,wpf,win-universal[]

ifdef::sl,wpf,win-universal[]

*In XAML:*

----
<ig:{DataChartName} x:Name="DataChart" >
    <ig:{DataChartName}.Resources>
        <local:EnergyProductionDataSample x:Key="energyProdData" />
    </ig:{DataChartName}.Resources>
    <ig:{DataChartName}.Axes>
        <ig:NumericYAxis x:Name="YAxis" MinimumValue="0" Interval="400" Label="{}{} TWh" />
        <ig:CategoryXAxis x:Name="XAxis" ItemsSource="{StaticResource energyProdData}" Label="{}{Country}" />
    </ig:{DataChartName}.Axes>
    <ig:{DataChartName}.Series>
    <!-- ========================================================================== -->
        <ig:StackedColumnSeries XAxis="{Binding ElementName=XAxis}" 
                                YAxis="{Binding ElementName=YAxis}" 
                                ItemsSource="{StaticResource energyProdData}">
            <ig:StackedColumnSeries.Series>
                <ig:StackedFragmentSeries ValueMemberPath="Coal" Title="Coal" />
                <ig:StackedFragmentSeries ValueMemberPath="Hydro" Title="Hydro" />
                <ig:StackedFragmentSeries ValueMemberPath="Nuclear" Title="Nuclear" />
                <ig:StackedFragmentSeries ValueMemberPath="Gas" Title="Gas" />
                <ig:StackedFragmentSeries ValueMemberPath="Oil" Title="Oil" />
            </ig:StackedColumnSeries.Series>
        </ig:StackedColumnSeries>
    </ig:{DataChartName}.Series>
    <!-- ========================================================================== -->
</ig:{DataChartName}>
----

endif::sl,wpf,win-universal[]

ifdef::sl,wpf,win-forms,win-universal[]

*In Visual Basic:*

[source]
----
Dim dataSample As New EnergyProductionDataSample()
Dim yAxis As New NumericYAxis()
Dim xAxis As New CategoryXAxis()
xAxis.DataSource = dataSample
xAxis.Label = "Country"
xAxis.ItemsSource = dataSample
xAxis.Label = "{Country}"
Me.DataChart.Axes.Add(xAxis)
Me.DataChart.Axes.Add(yAxis)
‘ create a stack fragment for each numeric column in your data
Dim seriesFragment As New StackedFragmentSeries()
seriesFragment.ValueMemberPath = "Coal"
seriesFragment.Title = "Coal"
...
Dim series As New StackedColumnSeries()
series.ItemsSource = dataSample
series.DataSource = dataSample
series.XAxis = xAxis
series.YAxis = yAxis
‘ add all stack fragments to the series
series.Series.Add(seriesFragment)
...
Me.DataChart.Series.Add(series)
----

endif::sl,wpf,win-forms,win-universal[]

ifdef::sl,wpf,win-forms,win-universal[]

*In C#:*

[source]
----
EnergyProductionDataSample dataSample = new EnergyProductionDataSample(); 
NumericYAxis yAxis = new NumericYAxis();
CategoryXAxis xAxis = new CategoryXAxis();
xAxis.DataSource = dataSample;
xAxis.Label = "Country";
xAxis.ItemsSource = dataSample;
xAxis.Label = "{Country}";
this.DataChart.Axes.Add(xAxis);
this.DataChart.Axes.Add(yAxis);
// create a stack fragment for each numeric column in your data
StackedFragmentSeries seriesFragment = new StackedFragmentSeries();
seriesFragment.ValueMemberPath = "Coal";
seriesFragment.Title = "Coal";
...
StackedColumnSeries series = new StackedColumnSeries();
series.ItemsSource = dataSample;
series.DataSource = dataSample;
series.XAxis = xAxis;
series.YAxis = yAxis;
// add all stack fragments to the series
series.Series.Add(seriesFragment);
...
this.DataChart.Series.Add(series);
----

endif::sl,wpf,win-forms,win-universal[]

ifdef::android[]

*In Java:*

[source,js]
----
EnergyProductionDataSample data = new EnergyProductionDataSample();
DataChartView chart = new DataChartView(rootView.getContext());
NumericYAxis yAxis = new NumericYAxis();
CategoryXAxis xAxis = new CategoryXAxis();
xAxis.setDataSource(data);
xAxis.setLabel("Country");
// create a stack fragment for each numeric column in your data
StackedFragmentSeries seriesFragment = new StackedFragmentSeries();
seriesFragment.setValueMemberPath("Coal");
seriesFragment.setTitle("Coal");
//...
StackedColumnSeries series = new StackedColumnSeries();
series.setDataSource(data);
series.setXAxis(xAxis);
series.setYAxis(yAxis);
//add all stack fragments to the series
series.addSeries(seriesFragment);
----

endif::android[]

[[RelatedContent]]
== Related Content

link:datachart-axes.html[Axes]

link:datachart-category-column-series.html[Column Series] link:datachart-category-column-series.html[]

link:datachart-category-stacked-100-column-series.html[Stacked 100-Column Series] link:datachart-category-stacked-bar-series.html[]

link:datachart-category-series-overview.html[Category Series]

link:datachart-series-requirements.html[Series Requirements]