= Using Scatter Contour Series

=== Purpose

This topic provides information on how to use the link:{DataChartLink}.ScatterContourSeries_members.html[ScatterContourSeries] element in the link:{DataChartLink}.{DataChartName}_members.html[{DataChartName}]™ control.

=== In this topic

This topic contains the following sections:

* <<_Ref320651776, Scatter Contour Series >>

** <<_Ref320193474,Overview>>
** <<_Ref320651783,Preview>>
** <<_Ref320651786,Data Requirements>>
** <<_Ref335249132,Data Binding>>
** <<_Ref335248897,Contour Fill Scale>>
** <<_Ref335252263,Contour Value Resolver>>
** <<_Ref320651790,Example>>

* <<_Ref320185294,Related Content>>

[[_Ref320651776]]
== Scatter Area Series

[[_Ref320193474]]

=== Overview

In the _{DataChartName}_ control, the link:{DataChartLink}.ScatterContourSeries_members.html[ScatterContourSeries] draws colored contour lines based on a triangulation of X and Y data with a numeric value assigned to each point.

This type of series is useful for rendering heat maps, magnetic field strength or wifi strength in an office. The link:{DataChartLink}.ScatterContourSeries_members.html[ScatterContourSeries] works a lot like the link:{DataChartLink}.ScatterAreaSeries_members.html[ScatterAreaSeries] except that it represents data as contour lines colored using a fill scale and the scatter area series represents data as a surface interpolated using a color scale.

[[_Ref320651783]]

=== Preview

The following is a preview of the __{DataChartName}__ control with a link:{DataChartLink}.ScatterContourSeries_members.html[ScatterContourSeries] that is plotting 3D surface data where the Z axis is rendered as color changes across the surface.  Lower Z values are in blue and higher values are in red.

image::images/DataChart_Using_Scatter_Contour_Series_1.png[]

[[_Ref320651786]]

=== Data Requirements

Similar to other types of series in the __{DataChartName}__ control, the link:{DataChartLink}.ScatterContourSeries_members.html[ScatterContourSeries] has the link:{DataChartLink}.Series~{ApiDataSource}.html[{ApiDataSource}] property for the purpose of data binding. This property can be bound to an object that implements the link:http://msdn.microsoft.com/en-us/library/system.collections.ienumerable.aspx[IEnumerable] interface (e.g. link:http://msdn.microsoft.com/en-us/library/6sh2ey19.aspx[List], link:http://msdn.microsoft.com/en-us/library/ms132397.aspx[Collection], link:http://msdn.microsoft.com/en-us/library/7977ey2c.aspx[Queue], link:http://msdn.microsoft.com/en-us/library/system.collections.stack.aspx[Stack]). In addition, each item in this object must have two data columns that stores point locations (one for X and one for Y). These data columns are then mapped to the link:{DataChartLink}.ScatterTriangulationSeries~XMemberPath.html[XMemberPath] and link:{DataChartLink}.ScatterTriangulationSeries~YMemberPath.html[YMemberPath] properties.  The data must also have one data column that stores a value for each point.  This value is used by the link:{DataChartLink}.ScatterContourSeries_members.html[ScatterContourSeries] to color the surface. This value column is mapped to the link:{DataChartLink}.ScatterContourSeries~ValueMemberPath.html[ValueMemberPath] property.

The link:{DataChartLink}.ScatterContourSeries_members.html[ScatterContourSeries] automatically performs built-in data triangulation on items in the  link:{DataChartLink}.Series~{ApiDataSource}.html[{ApiDataSource}] if no triangulation is set to the link:{DataChartLink}.ScatterTriangulationSeries~TrianglesSource.html[TrianglesSource] property. However, computing triangulation can be a very time-consuming process, so the runtime performance will be better when specifying a  link:{DataVizChartsLink}.triangulationsource_members.html[TriangulationSource] for this property, especially when a large number of data items are present.

ifdef::wpf[]
.Note:
[NOTE]
====
Refer to the link:datachart-triangulating-data.html[Triangulating Data] topic for more information about the process of creating, saving, and loading triangulation data.
====
endif::wpf[]

[[_Ref335249132]]

=== Data Binding

The following table summarizes required properties of link:{DataChartLink}.ScatterContourSeries_members.html[ScatterContourSeries] used for data binding.

[options="header", cols="a,a,a,a"]
|====
|Property Name|Property Type 2+|Description

| link:{DataChartLink}.Series~{ApiDataSource}.html[{ApiDataSource}]
|IEnumerable
2+|Gets or sets the source of items to perform triangulation on if the link:{DataChartLink}.ScatterTriangulationSeries~TrianglesSource.html[TrianglesSource] property provides no triangulation data.

| link:{DataChartLink}.ScatterTriangulationSeries~XMemberPath.html[XMemberPath]
|string
2+|The name of the property containing the X location for each item in the {ApiDataSource}.

| link:{DataChartLink}.ScatterTriangulationSeries~YMemberPath.html[YMemberPath]
|string
2+|The name of the property containing the Y location for each item in the {ApiDataSource}.

| link:{DataChartLink}.ScatterContourSeries~ValueMemberPath.html[ValueMemberPath]
|string
2+|The name of the property containing a numeric value for each item in the {ApiDataSource} which can be converted to a brush by a fill scale set to the link:{DataChartLink}.ScatterContourSeries~FillScale.html[FillScale] property.


|====

The following table summarizes optional properties of link:{DataChartLink}.ScatterContourSeries_members.html[ScatterContourSeries] used for data binding.

[options="header", cols="a,a,a,a"]
|====
|Property Name|Property Type 2+|Description

| link:{DataChartLink}.ScatterTriangulationSeries~TrianglesSource.html[TrianglesSource]
|IEnumerable
2+|Gets or sets the source of triangulation data. Setting  link:{DataVizChartsLink}.TriangulationSource~Triangles.html[Triangles] of the  link:{DataVizChartsLink}.TriangulationSource_members.html[TriangulationSource] object to this property improves both runtime performance and series rendering.

| link:{DataChartLink}.ScatterTriangulationSeries~TriangleVertexMemberPath1.html[TriangleVertexMemberPath1]
|string
2+|The name of the property of the link:{DataChartLink}.ScatterTriangulationSeries~TrianglesSource.html[TrianglesSource] items which, for each triangle, contains the index of the first vertex point in the {ApiDataSource}. It is not mandatory to set this property. It is taken by default unless custom triangulation logic is provided.

| link:{DataChartLink}.ScatterTriangulationSeries~TriangleVertexMemberPath2.html[TriangleVertexMemberPath2]
|string
2+|The name of the property of the link:{DataChartLink}.ScatterTriangulationSeries~TrianglesSource.html[TrianglesSource] items which, for each triangle, contains the index of the second vertex point in the {ApiDataSource}. It is not mandatory to set this property. It is taken by default unless custom triangulation logic is provided.

| link:{DataChartLink}.ScatterTriangulationSeries~TriangleVertexMemberPath3.html[TriangleVertexMemberPath3]
|string
2+|The name of the property of the link:{DataChartLink}.ScatterTriangulationSeries~TrianglesSource.html[TrianglesSource] items which, for each triangle, contains the index of the third vertex point in the {ApiDataSource}. It is not mandatory to set this property. It is taken by default unless custom triangulation logic is provided.

|====

[[_Ref335248897]]

=== Contour Fill Scale

Use the link:{DataChartLink}.ScatterContourSeries~FillScale.html[FillScale] property of the link:{DataChartLink}.ScatterContourSeries_members.html[ScatterContourSeries] to resolve fill brushes of the contour lines.

The provided link:{DataChartLink}.ValueBrushScale_members.html[ValueBrushScale] class should satisfy most of your coloring needs, but for applications that require custom coloring logic you can inherit the link:{DataChartLink}.ValueBrushScale_members.html[ValueBrushScale] class.

The following table lists properties of the link:{DataChartLink}.ValueBrushScale_members.html[ValueBrushScale] affecting the surface coloring of the link:{DataChartLink}.ScatterContourSeries_members.html[ScatterContourSeries].

[options="header", cols="a,a,a"]
|====
|Property Name|Property Type|Description

|link:{DataChartLink}.BrushScale~Brushes.html[Brushes] 
| pick:[wpf="link:{APIPlatform}datavisualization~Infragistics.brushcollection_members.html[BrushCollection]"]pick:[win-forms="Infragistics.Win.DataVisualization.BrushCollection"]
|Gets or sets the collection of brushes for filling contours of the link:{DataChartLink}.ScatterContourSeries_members.html[ScatterContourSeries]

| link:{DataChartLink}.ValueBrushScale~MaximumValue.html[MaximumValue]
|double
|The highest value to assign a brush in a fill scale.

| link:{DataChartLink}.ValueBrushScale~Minimumvalue.html[MinimumValue]
|double
|The lowest value to assign a brush in a fill scale.

|====

[[_Ref335252263]]

=== Contour Value Resolver

The link:{DataChartLink}.ScatterContourSeries_members.html[ScatterContourSeries] renders using exactly 10 contour lines at even intervals between the minimum and maximum values of the items mapped to the link:{DataChartLink}.ScatterContourSeries~ValueMemberPath.html[ValueMemberPath] property. If you desire more or fewer contours, you can assign the link:{DataChartLink}.LinearContourValueResolver_members.html[LinearContourValueResolver] with a number of contours to the link:{DataChartLink}.ScatterContourSeries~ValueResolver.html[ValueResolver] property of the link:{DataChartLink}.ScatterContourSeries_members.html[ScatterContourSeries].

The following code shows how to configure the number of contour lines in the link:{DataChartLink}.ScatterContourSeries_members.html[ScatterContourSeries].

ifdef::xaml[]

*In XAML:*

[source,xaml]
----
<ig:ScatterContourSeries>
        <ig:ScatterContourSeries.ValueResolver>
                  <ig:LinearContourValueResolver ValueCount="5" />
        </ig:ScatterContourSeries.ValueResolver>
</ig:ScatterContourSeries>
----

endif::xaml[]

*In C#:*

[source,csharp]
----
var valueResolver = new LinearContourValueResolver();
valueResolver.ValueCount = 5;
scatterContourSeries1.ValueResolver = valueResolver;
----

*In Visual Basic:*

[source,vb]
----
Dim valueResolver As New LinearContourValueResolver()
valueResolver.ValueCount = 5
scatterContourSeries1.ValueResolver = valueResolver
----

To determine the position of contour lines in an application, implement a custom value resolver. This is accomplished by inheriting from the link:{DataChartLink}.ContourValueResolver.html[ContourValueResolver] and overriding the link:{DataChartLink}.ContourValueResolver~GetContourValues.html[GetContourValues] method.

The following code shows implementation of a custom contour value resolver that specifies contour lines at predefined positions.

*In C#:*

[source,csharp]
----
public class CustomValueResolver : Infragistics.Controls.Charts.ContourValueResolver
{
    public override IEnumerable<double> GetContourValues(IFastItemColumn<double> valueColumn)
    {
        return new double[] {1, 2, 4, 5, 8};
    }
}
----

*In Visual Basic:*

[source,vb]
----
Public Class CustomValueResolver
    Inherits Infragistics.Controls.Charts.ContourValueResolver
    Overrides Function GetContourValues(valueColumn As IFastItemColumn(Of Double)) As IEnumerable(Of Double)
        Return New Double() { 1, 2, 4, 5, 8 }
    End Function
End Class
----

[[_Ref320651790]]

=== Example

The following code shows how to bind the link:{DataChartLink}.ScatterContourSeries_members.html[ScatterContourSeries] 3D surface data in order to produce the above screenshot.  You can find the 3D surface data used in the below example link:resources-3d-surface-data.html[here].

ifdef::wpf[]
*In XAML:*

[source,xaml]
----
<ig:{DataChartName}>
    <ig:{DataChartName}.Axes>
        <ig:NumericXAxis x:Name="xAxis"/>
        <ig:NumericYAxis x:Name="yAxis"/>
    </ig:{DataChartName}.Axes>
    <ig:{DataChartName}.Series>
        <ig:ScatterContourSeries XAxis="{Binding ElementName=xAxis}"
                                 YAxis="{Binding ElementName=yAxis}"
                                 XMemberPath="X"
                                 YMemberPath="Y"
                                 ValueMemberPath="Z">
            <ig:ScatterContourSeries.ItemsSource> 
                <model:CosXPlusCosY "/>
            </ig:ScatterContourSeries.ItemsSource>
            <ig:ScatterContourSeries.FillScale>
                <ig:ValueBrushScale>
                    <ig:ValueBrushScale.Brushes>
                        <SolidColorBrush>Blue</SolidColorBrush>
                        <SolidColorBrush>Green</SolidColorBrush>
                        <SolidColorBrush>Yellow</SolidColorBrush>
                        <SolidColorBrush>Red</SolidColorBrush>
                    </ig:ValueBrushScale.Brushes>
                </ig:CustomPaletteColorScale>
            </ig:ScatterContourSeries.FillScale>
        </ig:ScatterContourSeries>
    </ig:{DataChartName}.Series>
</ig:{DataChartName}>
----
endif::wpf[]

*In Visual Basic:*

[source,vb]
----
' ScatterContourSeries requires numeric X and Y axis
Dim xAxis As New NumericXAxis()
Dim yAxis As New NumericYAxis()
Me.dataChart.Axes.Add(xAxis)
Me.dataChart.Axes.Add(yAxis)

' create and set data binding to the ScatterContourSeries
Dim series As New ScatterContourSeries()
series.{ApiDataSource} = New CosXPlusCosY()
series.XMemberPath = "X"
series.YMemberPath = "Y"
series.ValueMemberPath = "Z"
series.XAxis = xAxis
series.YAxis = yAxis

' set a color scale 
Dim brushScale As New ValueBrushScale()
brushScale.Brushes.Add(new SolidColorBrush({ApiColorClass}.Blue))
brushScale.Brushes.Add(new SolidColorBrush({ApiColorClass}.Green))
brushScale.Brushes.Add(new SolidColorBrush({ApiColorClass}.Yellow))
brushScale.Brushes.Add(new SolidColorBrush({ApiColorClass}.Red))
series.FillScale = brushScale

' add the ScatterContourSeries to the {DataChartName}
Me.dataChart.Series.Add(series)
----

*In C#:*

[source,csharp]
----
// ScatterContourSeries requires numeric X and Y axis
var xAxis = new NumericXAxis();
var yAxis = new NumericYAxis();
this.dataChart.Axes.Add(xAxis);
this.dataChart.Axes.Add(yAxis);

// create and set data binding to the ScatterContourSeries;
var series = new ScatterContourSeries();
series.{ApiDataSource} = New CosXPlusCosY();
series.XMemberPath = "X";
series.YMemberPath = "Y";
series.ValueMemberPath = "Z";
series.XAxis = xAxis;
series.YAxis = yAxis;

// set a color scale 
var brushScale = new ValueBrushScale();
brushScale.Brushes.Add(new SolidColorBrush({ApiColorClass}.Blue));
brushScale.Brushes.Add(new SolidColorBrush({ApiColorClass}.Green));
brushScale.Brushes.Add(new SolidColorBrush({ApiColorClass}.Yellow));
brushScale.Brushes.Add(new SolidColorBrush({ApiColorClass}.Red));
series.FillScale = brushScale;

// add the ScatterContourSeries to the {DataChartName}
this.dataChart.Series.Add(series);
----

[[_Ref320185294]]
== Related Content

The following topics provide additional information related to this topic.

[options="header", cols="a,a"]
|====
|Topic|Purpose

ifdef::xaml[]
| link:datachart-creating-chart-in-xaml-code.html[Creating Chart in XAML code] 
|This topic provides information on how to add the control to an application page.
endif::xaml[]

| link:datachart-series-requirements.html[Series Requirements]
|This topic provides information on requirements of Series objects in the {DataChartName} control.


|====