////
|metadata|
{
    "controlName": ["{GeoMapName}"],
    "tags": []
}
|metadata|
////

= 散布エリア シリーズの使用

=== 目的

このトピックでは、link:{DataChartLink}.{DataChartName}_members.html[{DataChartName}]™ コントロールで link:{DataChartLink}.ScatterAreaSeries_members.html[ScatterAreaSeries] 要素を使用する方法を提供します。

=== このトピックの内容

このトピックは、以下のセクションで構成されます。

* <<_Ref320651776, 散布エリア シリーズ >>

** <<_Ref320193474,概要>>
** <<_Ref320651783,プレビュー>>
** <<_Ref320651786,データ要件>>
** <<_Ref335249132,データ バインディング>>
** <<_Ref335248897,カラー スケール>>
** <<_Ref320651790,例>>

* <<_Ref320185294,関連コンテンツ>>

[[_Ref320651776]]
== 散布エリア シリーズ

[[_Ref320193474]]

=== 概要

{DataChartName} コントロールでは、link:{DataChartLink}.ScatterAreaSeries_members.html[ScatterAreaSeries] が各ポイントに割り当てられた数値を使って、X および Y データの三角形分割に基づいて、色付きのサーフェスを描画します。

このシリーズのタイプはヒート マップ、磁場の強さ、またはオフィスの WIFI の強さを描画する場合などに便利です。link:{DataChartLink}.ScatterAreaSeries_members.html[ScatterAreaSeries] は link:{DataChartLink}.ScatterContourSeries_members.html[ScatterContourSeries] と同様ですが、同じ値を持つデータ ポイントを接続する等高線の代わりに補間で色つきサーフェス エリアとしてデータを表します。

[[_Ref320651783]]

=== プレビュー

以下は、3D サーフェイス データをプロットする link:{DataChartLink}.ScatterAreaSeries_members.html[ScatterAreaSeries] を持つ {DataChartName} コントロールのプレビューです。Z 軸は、サーフェイスでの色変更として描画されます。より低い Z 値は青色で、より高い値は赤色になります。

image::images/DataChart_Using_Scatter_Area_Series_1.png[]

[[_Ref320651786]]

=== データ要件

{DataChartName} コントロールのシリーズの他のタイプと同様、link:{DataChartLink}.ScatterAreaSeries_members.html[ScatterAreaSeries] には、データ バインディングのための link:{DataChartLink}.series~{ApiDataSource}.html[{ApiDataSource}] プロパティがあります。このプロパティは、link:http://msdn.microsoft.com/ja-jp/library/6sh2ey19.aspx[List]、link:http://msdn.microsoft.com/ja-jp/library/ms132397.aspx[Collection]、link:http://msdn.microsoft.com/ja-jp/library/7977ey2c.aspx[Queue]、link:http://msdn.microsoft.com/ja-jp/library/system.collections.stack.aspx[Stack] など link:http://msdn.microsoft.com/ja-jp/library/system.collections.ienumerable.aspx[IEnumerable] インターフェイスを実装するオブジェクトにバインドできます。また、このオブジェクトで各項目にポイント位置 (X および Y) を保存する 2 つのデータ列が必要です。これらのデータ列は、link:{DataChartLink}.ScatterTriangulationSeries~XMemberPath.html[XMemberPath] および link:{DataChartLink}.ScatterTriangulationSeries~YMemberPath.html[YMemberPath] プロパティにマップされます。データにも各ポイントの値を保存するデータ列が必要です。この値は link:{DataChartLink}.ScatterAreaSeries_members.html[ScatterAreaSeries] でサーフェイスの色を設定するために使用されます。この値列は、link:{DataChartLink}.ScatterAreaSeries~ColorMemberPath.html[ColorMemberPath] プロパティにマップされます。

link:{DataChartLink}.ScatterAreaSeries_members.html[ScatterAreaSeries] は、三角測量が link:{DataChartLink}.ScatterTriangulationSeries~TrianglesSource.html[TrianglesSource] プロパティに設定されていない場合、link:{DataChartLink}.Series~{ApiDataSource}.html[{ApiDataSource}] の項目で定義済みのデータ三角測量を自動的に実行します。ただし、三角測量の計算は非常に時間のかかるプロセスであるため、このプロパティのために link:{DataVizChartsLink}.triangulationsource_members.html[TriangulationSource] を指定すると、ランタイム パフォーマンスがよくなります。特にデータ項目が多数ある場合には顕著です。

ifdef::wpf[]
.注:
[NOTE]
====
三角測量データの作成、保存、読み込みのプロセスに関する詳細は、link:datachart-triangulating-data.html[データの三角測量]トピックを参照してください。
====
endif::wpf[]

[[_Ref335249132]]

=== データ バインディング

以下の表に、データ バインドに使用される link:{DataChartLink}.ScatterAreaSeries_members.html[ScatterAreaSeries] の必須プロパティをまとめています。

[options="header", cols="25a,25a,50a"]
|====
|プロパティ名|プロパティ タイプ|説明

| link:{DataChartLink}.Series~{ApiDataSource}.html[{ApiDataSource}]
|IEnumerable
|link:{DataChartLink}.ScatterTriangulationSeries~TrianglesSource.html[TrianglesSource] プロパティに提供する三角測量データがない場合三角測量を実行するための項目のソースを取得または設定します。

| link:{DataChartLink}.ScatterTriangulationSeries~XMemberPath.html[XMemberPath]
|string
|{ApiDataSource} の各項目の X 位置を含むプロパティの名前。

| link:{DataChartLink}.ScatterTriangulationSeries~YMemberPath.html[YMemberPath]
|string
|{ApiDataSource} の各項目の Y 位置を含むプロパティの名前。

| link:{DataChartLink}.ScatterAreaSeries~ColorMemberPath.html[ColorMemberPath]
|string
|link:{DataChartLink}.ScatterAreaSeries~ColorScale.html[ColorScale] プロパティに設定されて、カラー スケールによって色への変換が可能な数値を含む各データ項目のプロパティの名前。

|====

以下の表に、データ バインドに使用される link:{DataChartLink}.ScatterAreaSeries_members.html[ScatterAreaSeries] のオプションのプロパティをまとめています。

[options="header", cols="25a,25a,50a"]
|====
|プロパティ名|プロパティ タイプ|説明

| link:{DataChartLink}.ScatterTriangulationSeries~TrianglesSource.html[TrianglesSource]
|IEnumerable
|三角測量データのソースを取得または設定します。link:{DataVizChartsLink}.TriangulationSource_members.html[TriangulationSource] オブジェクトの link:{DataVizChartsLink}.TriangulationSource~Triangles.html[Triangles] をこのプロパティに設定すると、ランタイム パフォーマンスとシリーズの描画の両方が改善します。

| link:{DataChartLink}.ScatterTriangulationSeries~TriangleVertexMemberPath1.html[TriangleVertexMemberPath1]
|string
|各三角形に対して {ApiDataSource} の最初の頂点のインデックスを含む、link:{DataChartLink}.ScatterTriangulationSeries~TrianglesSource.html[TrianglesSource] 項目のプロパティ名。このプロパティを設定することは義務ではありません。カスタムの三角測量ロジックが提供されない場合はデフォルトで取得されます。

| link:{DataChartLink}.ScatterTriangulationSeries~TriangleVertexMemberPath2.html[TriangleVertexMemberPath2]
|string
|各三角形に対して {ApiDataSource} の第 2 の頂点のインデックスを含む、link:{DataChartLink}.ScatterTriangulationSeries~TrianglesSource.html[TrianglesSource] 項目のプロパティ名。このプロパティの設定は必須ではありません。カスタムの三角測量ロジックが提供されない場合はデフォルトで取得されます。

| link:{DataChartLink}.ScatterTriangulationSeries~TriangleVertexMemberPath3.html[TriangleVertexMemberPath3]
|string
|各三角形に対して {ApiDataSource} の第 3 の頂点のインデックスを含む、link:{DataChartLink}.ScatterTriangulationSeries~TrianglesSource.html[TrianglesSource] 項目のプロパティ名。このプロパティの設定は必須ではありません。カスタムの三角測量ロジックが提供されない場合はデフォルトで取得されます。

|====

[[_Ref335248897]]

=== カラー スケール

link:{DataChartLink}.ScatterAreaSeries_members.html[ScatterAreaSeries] の link:{DataChartLink}.ScatterAreaSeries~ColorScale.html[ColorScale] プロパティを使用して、ポイントの値を解決し、シリーズの面を塗りつぶします。色は、ピクセル単位の三角ラスタライザーを三角測量データに適用することによって、面の図形の周りをなめらかに補間します。面の描画がピクセル単位であるため、カラー スケールはブラシではなく色を使用します。

提供される link:{DataChartLink}.CustomPaletteColorScale_members.html[CustomPaletteColorScale] クラスはほとんどのカラーリングのニーズを満たすはずですが、link:{DataChartLink}.ScatterAreaSeries~ColorScale.html[ColorScale] ベースのクラスはカスタムのカラリング ロジックのアプリケーションによって継承できます。

以下の表は link:{DataChartLink}.ScatterAreaSeries_members.html[ScatterAreaSeries] の面のカラ―リングに影響する link:{DataChartLink}.CustomPaletteColorScale_members.html[CustomPaletteColorScale] プロパティをリストします。

[options="header", cols="a,a,a"]
|====
|プロパティ名|プロパティ タイプ|説明

| link:{DataChartLink}.CustomPaletteColorScale_members.html[Palette]
|ObservableCollection<Color>
|補間するために選択する色のコレクションを取得または設定します。

| link:{DataChartLink}.CustomPaletteColorScale~interpolationmode.html[InterpolationMode]
| link:{DataChartLink}.ColorScaleInterpolationMode.html[ColorScaleInterpolationMode]
|link:{DataChartLink}.CustomPaletteColorScale_members.html[Palette] から色を取得するメソッドを取得または設定します。

| link:{DataChartLink}.CustomPaletteColorScale~maximumvalue.html[MaximumValue]
|double
|色を割り当てるための最大値。指定した値がこの値より大きい場合は透明になります。

| link:{DataChartLink}.CustomPaletteColorScale~minimumvalue.html[MinimumValue]
|double
|色を割り当てるための最小値。指定した値がこの値より小さい場合は透明になります。

|====

[[_Ref320651790]]

=== 例

以下のコードは、以上のスクリーンショットを作成するために link:{DataChartLink}.ScatterAreaSeries_members.html[ScatterAreaSeries] を 3D サーフェイス データにバインドする方法を紹介します。使用される 3D サーフェイス データはlink:resources-3d-surface-data.html[ここ]です。

ifdef::wpf[]
*XAML の場合:*

[source,xaml]
----
<ig:{DataChartName}>
    <ig:{DataChartName}.Axes>
        <ig:NumericXAxis x:Name="xAxis"/>
        <ig:NumericYAxis x:Name="yAxis"/>
    </ig:{DataChartName}.Axes>
    <ig:{DataChartName}.Series>
        <ig:ScatterAreaSeries XAxis="{Binding ElementName=xAxis}"
                              YAxis="{Binding ElementName=yAxis}"
                              XMemberPath="X"
                              YMemberPath="Y"
                              ColorMemberPath="Z">
			<ig:ScatterAreaSeries.ItemsSource> 
                <model:CosXPlusCosY "/>
            </ig:ScatterAreaSeries.ItemsSource>
            <ig:ScatterAreaSeries.ColorScale>
                <ig:CustomPaletteColorScale InterpolationMode="InterpolateRGB">
                    <ig:CustomPaletteColorScale.Palette>
                        <Color>Blue</Color>
                        <Color>Green</Color>
                        <Color>Yellow</Color>
                        <Color>Red</Color>
                    </ig:CustomPaletteColorScale.Palette>
                </ig:CustomPaletteColorScale>
            </ig:ScatterAreaSeries.ColorScale>
        </ig:ScatterAreaSeries>
    </ig:{DataChartName}.Series>
</ig:{DataChartName}>
----
endif::wpf[]

*Visual Basic の場合:*

[source,vb]
----
' ScatterAreaSeries requires numeric X and Y axis
Dim xAxis = New NumericXAxis()
Dim yAxis = New NumericYAxis()
Me.dataChart.Axes.Add(xAxis)
Me.dataChart.Axes.Add(yAxis)

' create and set data binding to the ScatterAreaSeries
Dim series = New ScatterAreaSeries()
series.{ApiDataSource} = New CosXPlusCosY()
series.XMemberPath = "X"
series.YMemberPath = "Y"
series.ColorMemberPath = "Z"
series.XAxis = xAxis
series.YAxis = yAxis

' set a color scale 
Dim colorScale = New CustomPaletteColorScale()
colorScale.InterpolationMode = ColorScaleInterpolationMode.InterpolateRGB
colorScale.Palette.Add(Colors.Blue)
colorScale.Palette.Add(Colors.Green)
colorScale.Palette.Add(Colors.Yellow)
colorScale.Palette.Add(Colors.Red)
series.ColorScale = colorScale

' add the ScatterAreaSeries to the {DataChartName}
Me.dataChart.Series.Add(series)
----

*C# の場合:*

[source,csharp]
----
// ScatterAreaSeries requires numeric X and Y axis
var xAxis = new NumericXAxis();
var yAxis = new NumericYAxis();
this.dataChart.Axes.Add(xAxis);
this.dataChart.Axes.Add(yAxis);

// create and set data binding to the ScatterAreaSeries
var series = new ScatterAreaSeries();
series.{ApiDataSource} = new CosXPlusCosY();
series.XMemberPath = "X";
series.YMemberPath = "Y";
series.ColorMemberPath = "Z";
series.XAxis = xAxis;
series.YAxis = yAxis;

// set a color scale 
var colorScale = new CustomPaletteColorScale();
colorScale.InterpolationMode = ColorScaleInterpolationMode.InterpolateRGB;
colorScale.Palette.Add(Colors.Blue);
colorScale.Palette.Add(Colors.Green);
colorScale.Palette.Add(Colors.Yellow);
colorScale.Palette.Add(Colors.Red);
series.ColorScale = colorScale;

// add the ScatterAreaSeries to the {DataChartName}
this.dataChart.Series.Add(series);
----

[[_Ref320185294]]
== 関連コンテンツ

このトピックに関連する追加情報については、以下のトピックを参照してください。

[options="header", cols="a,a"]
|====
|トピック|目的

ifdef::xaml[]
| link:datachart-creating-chart-in-xaml-code.html[XAML コードでチャートを作成] 
|このトピックでは、コントロールをアプリケーション ページに追加する方法を示します。
endif::xaml[]

| link:datachart-series-requirements.html[シリーズ要件]
|このトピックでは、{DataChartName} コントロールで利用可能な散布シリーズに関する情報を提供します。

ifdef::wpf[]
| link:datachart-triangulating-data.html[データを三角測量]
|このトピックは三角測量についての情報を提供します。
endif::wpf[]

|====